{
  "_format": "hh-sol-artifact-1",
  "contractName": "PrescriptionRecords",
  "sourceName": "contracts/PatientRecords.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "prescriptionId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "doctorWallet",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "patientWallet",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "ipfsCid",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "PrescriptionCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "prescriptionId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "doctorWallet",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "newIpfsCid",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "PrescriptionUpdated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "ipfsCid",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "doctorWallet",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "patientWallet",
          "type": "address"
        }
      ],
      "name": "createPrescription",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "doctorPrescriptions",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "doctorWallet",
          "type": "address"
        }
      ],
      "name": "getDoctorPrescriptions",
      "outputs": [
        {
          "internalType": "bytes32[]",
          "name": "",
          "type": "bytes32[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "patientWallet",
          "type": "address"
        }
      ],
      "name": "getPatientPrescriptions",
      "outputs": [
        {
          "internalType": "bytes32[]",
          "name": "",
          "type": "bytes32[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "prescriptionId",
          "type": "bytes32"
        }
      ],
      "name": "getPrescription",
      "outputs": [
        {
          "internalType": "string",
          "name": "ipfsCid",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "doctorWallet",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "patientWallet",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTotalPrescriptions",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "prescriptionId",
          "type": "bytes32"
        }
      ],
      "name": "isPrescriptionValid",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "patientPrescriptions",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "prescriptions",
      "outputs": [
        {
          "internalType": "string",
          "name": "ipfsCid",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "doctorWallet",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "patientWallet",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        },
        {
          "internalType": "string",
          "name": "prescriptionType",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "prescriptionId",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "newIpfsCid",
          "type": "string"
        }
      ],
      "name": "updatePrescription",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b506110dd806100206000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c806383452bc01161006657806383452bc01461011a5780638a462e1a14610150578063a4c54e7714610170578063a65b210a14610183578063ba761d3d146101a757600080fd5b806345855163146100a35780636559dfc7146100ba57806372478b6e146100cd578063733ba56d146100e25780637b464e93146100f5575b600080fd5b6003545b6040519081526020015b60405180910390f35b6100a76100c8366004610b3c565b6101ba565b6100e06100db366004610baf565b6101eb565b005b6100a76100f0366004610b3c565b61035e565b610108610103366004610bfb565b61037a565b6040516100b196959493929190610c5a565b610140610128366004610bfb565b60009081526020819052604090206004015460ff1690565b60405190151581526020016100b1565b61016361015e366004610cb2565b6104d3565b6040516100b19190610cd4565b61016361017e366004610cb2565b61053f565b610196610191366004610bfb565b6105a9565b6040516100b1959493929190610d18565b6100a76101b5366004610d5a565b61075c565b600160205281600052604060002081815481106101d657600080fd5b90600052602060002001600091509150505481565b6000838152602081905260409020600481015460ff166102525760405162461bcd60e51b815260206004820152601b60248201527f507265736372697074696f6e20646f6573206e6f74206578697374000000000060448201526064015b60405180910390fd5b60018101546001600160a01b031633146102ae5760405162461bcd60e51b815260206004820152601f60248201527f4f6e6c79206f726967696e616c20646f63746f722063616e20757064617465006044820152606401610249565b816102f65760405162461bcd60e51b815260206004820152601860248201527749504653204349442063616e6e6f7420626520656d70747960401b6044820152606401610249565b80610302838583610e5e565b50426003820181905560018201546040516001600160a01b039091169186917f7a56f36f40dd9efe3bf0ced0e40554559be8c36eb9f7e7184e5e3ecfd0ba5325916103509188918891610f1f565b60405180910390a350505050565b600260205281600052604060002081815481106101d657600080fd5b60006020819052908152604090208054819061039590610dd5565b80601f01602080910402602001604051908101604052809291908181526020018280546103c190610dd5565b801561040e5780601f106103e35761010080835404028352916020019161040e565b820191906000526020600020905b8154815290600101906020018083116103f157829003601f168201915b505050600184015460028501546003860154600487015460058801805497986001600160a01b039586169894909516965091945060ff16929161045090610dd5565b80601f016020809104026020016040519081016040528092919081815260200182805461047c90610dd5565b80156104c95780601f1061049e576101008083540402835291602001916104c9565b820191906000526020600020905b8154815290600101906020018083116104ac57829003601f168201915b5050505050905086565b6001600160a01b03811660009081526002602090815260409182902080548351818402810184019094528084526060939283018282801561053357602002820191906000526020600020905b81548152602001906001019080831161051f575b50505050509050919050565b6001600160a01b038116600090815260016020908152604091829020805483518184028101840190945280845260609392830182828015610533576020028201919060005260206000209081548152602001906001019080831161051f5750505050509050919050565b606060008060008060008060008881526020019081526020016000206040518060c00160405290816000820180546105e090610dd5565b80601f016020809104026020016040519081016040528092919081815260200182805461060c90610dd5565b80156106595780601f1061062e57610100808354040283529160200191610659565b820191906000526020600020905b81548152906001019060200180831161063c57829003601f168201915b505050918352505060018201546001600160a01b039081166020830152600283015416604082015260038201546060820152600482015460ff161515608082015260058201805460a0909201916106af90610dd5565b80601f01602080910402602001604051908101604052809291908181526020018280546106db90610dd5565b80156107285780601f106106fd57610100808354040283529160200191610728565b820191906000526020600020905b81548152906001019060200180831161070b57829003601f168201915b5050509190925250508151602083015160408401516060850151608090950151929c919b5099509297509550909350505050565b6000836107a65760405162461bcd60e51b815260206004820152601860248201527749504653204349442063616e6e6f7420626520656d70747960401b6044820152606401610249565b6001600160a01b0383166107fc5760405162461bcd60e51b815260206004820152601d60248201527f496e76616c696420646f63746f722077616c6c657420616464726573730000006044820152606401610249565b6001600160a01b0382166108525760405162461bcd60e51b815260206004820152601e60248201527f496e76616c69642070617469656e742077616c6c6574206164647265737300006044820152606401610249565b336001600160a01b038416146108b65760405162461bcd60e51b815260206004820152602360248201527f4f6e6c7920646f63746f722063616e206372656174652070726573637269707460448201526234b7b760e91b6064820152608401610249565b600380549060006108c683610f58565b91905055506000838342600354448a8a6040516020016108ec9796959493929190610f7f565b60408051601f19818403018152918152815160209283012060008181529283905291206004015490915060ff16156109665760405162461bcd60e51b815260206004820152601960248201527f507265736372697074696f6e20494420636f6c6c6973696f6e000000000000006044820152606401610249565b6040518060c0016040528087878080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201829052509385525050506001600160a01b038088166020808501919091529087166040808501919091524260608501526001608085015280518082018252601481527326a2a224a1a0a62fa82922a9a1a924a82a24a7a760611b8184015260a0909401939093528482528190522081518190610a1b9082610fe7565b5060208201516001820180546001600160a01b039283166001600160a01b031991821617909155604084015160028401805491909316911617905560608201516003820155608082015160048201805491151560ff1990921691909117905560a08201516005820190610a8e9082610fe7565b5050506001600160a01b038085166000818152600160208181526040808420805480850182559085528285200187905594881680845260028252858420805493840181558452922001849055915183907f706bc58583d6abb605d6076c5556d0c49f16aa856e865c02b6a6507adb1f0fd590610b0f908b908b904290610f1f565b60405180910390a495945050505050565b80356001600160a01b0381168114610b3757600080fd5b919050565b60008060408385031215610b4f57600080fd5b610b5883610b20565b946020939093013593505050565b60008083601f840112610b7857600080fd5b50813567ffffffffffffffff811115610b9057600080fd5b602083019150836020828501011115610ba857600080fd5b9250929050565b600080600060408486031215610bc457600080fd5b83359250602084013567ffffffffffffffff811115610be257600080fd5b610bee86828701610b66565b9497909650939450505050565b600060208284031215610c0d57600080fd5b5035919050565b6000815180845260005b81811015610c3a57602081850181015186830182015201610c1e565b506000602082860101526020601f19601f83011685010191505092915050565b60c081526000610c6d60c0830189610c14565b6001600160a01b0388811660208501528716604084015260608301869052841515608084015282810360a0840152610ca58185610c14565b9998505050505050505050565b600060208284031215610cc457600080fd5b610ccd82610b20565b9392505050565b6020808252825182820181905260009190848201906040850190845b81811015610d0c57835183529284019291840191600101610cf0565b50909695505050505050565b60a081526000610d2b60a0830188610c14565b6001600160a01b0396871660208401529490951660408201526060810192909252151560809091015292915050565b60008060008060608587031215610d7057600080fd5b843567ffffffffffffffff811115610d8757600080fd5b610d9387828801610b66565b9095509350610da6905060208601610b20565b9150610db460408601610b20565b905092959194509250565b634e487b7160e01b600052604160045260246000fd5b600181811c90821680610de957607f821691505b602082108103610e0957634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115610e5957600081815260208120601f850160051c81016020861015610e365750805b601f850160051c820191505b81811015610e5557828155600101610e42565b5050505b505050565b67ffffffffffffffff831115610e7657610e76610dbf565b610e8a83610e848354610dd5565b83610e0f565b6000601f841160018114610ebe5760008515610ea65750838201355b600019600387901b1c1916600186901b178355610f18565b600083815260209020601f19861690835b82811015610eef5786850135825560209485019460019092019101610ecf565b5086821015610f0c5760001960f88860031b161c19848701351681555b505060018560011b0183555b5050505050565b604081528260408201528284606083013760006060848301015260006060601f19601f8601168301019050826020830152949350505050565b600060018201610f7857634e487b7160e01b600052601160045260246000fd5b5060010190565b6c505245534352495054494f4e5f60981b815260006bffffffffffffffffffffffff19808a60601b16600d840152808960601b166021840152508660358301528560558301528460758301528284609584013750600091016095019081529695505050505050565b815167ffffffffffffffff81111561100157611001610dbf565b6110158161100f8454610dd5565b84610e0f565b602080601f83116001811461104a57600084156110325750858301515b600019600386901b1c1916600185901b178555610e55565b600085815260208120601f198616915b828110156110795788860151825594840194600190910190840161105a565b50858210156110975787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea2646970667358221220a7b02b78f81a01047f783f6cd73cb675f8d6bfe7d631f948fd641051e4c3b14564736f6c63430008110033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061009e5760003560e01c806383452bc01161006657806383452bc01461011a5780638a462e1a14610150578063a4c54e7714610170578063a65b210a14610183578063ba761d3d146101a757600080fd5b806345855163146100a35780636559dfc7146100ba57806372478b6e146100cd578063733ba56d146100e25780637b464e93146100f5575b600080fd5b6003545b6040519081526020015b60405180910390f35b6100a76100c8366004610b3c565b6101ba565b6100e06100db366004610baf565b6101eb565b005b6100a76100f0366004610b3c565b61035e565b610108610103366004610bfb565b61037a565b6040516100b196959493929190610c5a565b610140610128366004610bfb565b60009081526020819052604090206004015460ff1690565b60405190151581526020016100b1565b61016361015e366004610cb2565b6104d3565b6040516100b19190610cd4565b61016361017e366004610cb2565b61053f565b610196610191366004610bfb565b6105a9565b6040516100b1959493929190610d18565b6100a76101b5366004610d5a565b61075c565b600160205281600052604060002081815481106101d657600080fd5b90600052602060002001600091509150505481565b6000838152602081905260409020600481015460ff166102525760405162461bcd60e51b815260206004820152601b60248201527f507265736372697074696f6e20646f6573206e6f74206578697374000000000060448201526064015b60405180910390fd5b60018101546001600160a01b031633146102ae5760405162461bcd60e51b815260206004820152601f60248201527f4f6e6c79206f726967696e616c20646f63746f722063616e20757064617465006044820152606401610249565b816102f65760405162461bcd60e51b815260206004820152601860248201527749504653204349442063616e6e6f7420626520656d70747960401b6044820152606401610249565b80610302838583610e5e565b50426003820181905560018201546040516001600160a01b039091169186917f7a56f36f40dd9efe3bf0ced0e40554559be8c36eb9f7e7184e5e3ecfd0ba5325916103509188918891610f1f565b60405180910390a350505050565b600260205281600052604060002081815481106101d657600080fd5b60006020819052908152604090208054819061039590610dd5565b80601f01602080910402602001604051908101604052809291908181526020018280546103c190610dd5565b801561040e5780601f106103e35761010080835404028352916020019161040e565b820191906000526020600020905b8154815290600101906020018083116103f157829003601f168201915b505050600184015460028501546003860154600487015460058801805497986001600160a01b039586169894909516965091945060ff16929161045090610dd5565b80601f016020809104026020016040519081016040528092919081815260200182805461047c90610dd5565b80156104c95780601f1061049e576101008083540402835291602001916104c9565b820191906000526020600020905b8154815290600101906020018083116104ac57829003601f168201915b5050505050905086565b6001600160a01b03811660009081526002602090815260409182902080548351818402810184019094528084526060939283018282801561053357602002820191906000526020600020905b81548152602001906001019080831161051f575b50505050509050919050565b6001600160a01b038116600090815260016020908152604091829020805483518184028101840190945280845260609392830182828015610533576020028201919060005260206000209081548152602001906001019080831161051f5750505050509050919050565b606060008060008060008060008881526020019081526020016000206040518060c00160405290816000820180546105e090610dd5565b80601f016020809104026020016040519081016040528092919081815260200182805461060c90610dd5565b80156106595780601f1061062e57610100808354040283529160200191610659565b820191906000526020600020905b81548152906001019060200180831161063c57829003601f168201915b505050918352505060018201546001600160a01b039081166020830152600283015416604082015260038201546060820152600482015460ff161515608082015260058201805460a0909201916106af90610dd5565b80601f01602080910402602001604051908101604052809291908181526020018280546106db90610dd5565b80156107285780601f106106fd57610100808354040283529160200191610728565b820191906000526020600020905b81548152906001019060200180831161070b57829003601f168201915b5050509190925250508151602083015160408401516060850151608090950151929c919b5099509297509550909350505050565b6000836107a65760405162461bcd60e51b815260206004820152601860248201527749504653204349442063616e6e6f7420626520656d70747960401b6044820152606401610249565b6001600160a01b0383166107fc5760405162461bcd60e51b815260206004820152601d60248201527f496e76616c696420646f63746f722077616c6c657420616464726573730000006044820152606401610249565b6001600160a01b0382166108525760405162461bcd60e51b815260206004820152601e60248201527f496e76616c69642070617469656e742077616c6c6574206164647265737300006044820152606401610249565b336001600160a01b038416146108b65760405162461bcd60e51b815260206004820152602360248201527f4f6e6c7920646f63746f722063616e206372656174652070726573637269707460448201526234b7b760e91b6064820152608401610249565b600380549060006108c683610f58565b91905055506000838342600354448a8a6040516020016108ec9796959493929190610f7f565b60408051601f19818403018152918152815160209283012060008181529283905291206004015490915060ff16156109665760405162461bcd60e51b815260206004820152601960248201527f507265736372697074696f6e20494420636f6c6c6973696f6e000000000000006044820152606401610249565b6040518060c0016040528087878080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201829052509385525050506001600160a01b038088166020808501919091529087166040808501919091524260608501526001608085015280518082018252601481527326a2a224a1a0a62fa82922a9a1a924a82a24a7a760611b8184015260a0909401939093528482528190522081518190610a1b9082610fe7565b5060208201516001820180546001600160a01b039283166001600160a01b031991821617909155604084015160028401805491909316911617905560608201516003820155608082015160048201805491151560ff1990921691909117905560a08201516005820190610a8e9082610fe7565b5050506001600160a01b038085166000818152600160208181526040808420805480850182559085528285200187905594881680845260028252858420805493840181558452922001849055915183907f706bc58583d6abb605d6076c5556d0c49f16aa856e865c02b6a6507adb1f0fd590610b0f908b908b904290610f1f565b60405180910390a495945050505050565b80356001600160a01b0381168114610b3757600080fd5b919050565b60008060408385031215610b4f57600080fd5b610b5883610b20565b946020939093013593505050565b60008083601f840112610b7857600080fd5b50813567ffffffffffffffff811115610b9057600080fd5b602083019150836020828501011115610ba857600080fd5b9250929050565b600080600060408486031215610bc457600080fd5b83359250602084013567ffffffffffffffff811115610be257600080fd5b610bee86828701610b66565b9497909650939450505050565b600060208284031215610c0d57600080fd5b5035919050565b6000815180845260005b81811015610c3a57602081850181015186830182015201610c1e565b506000602082860101526020601f19601f83011685010191505092915050565b60c081526000610c6d60c0830189610c14565b6001600160a01b0388811660208501528716604084015260608301869052841515608084015282810360a0840152610ca58185610c14565b9998505050505050505050565b600060208284031215610cc457600080fd5b610ccd82610b20565b9392505050565b6020808252825182820181905260009190848201906040850190845b81811015610d0c57835183529284019291840191600101610cf0565b50909695505050505050565b60a081526000610d2b60a0830188610c14565b6001600160a01b0396871660208401529490951660408201526060810192909252151560809091015292915050565b60008060008060608587031215610d7057600080fd5b843567ffffffffffffffff811115610d8757600080fd5b610d9387828801610b66565b9095509350610da6905060208601610b20565b9150610db460408601610b20565b905092959194509250565b634e487b7160e01b600052604160045260246000fd5b600181811c90821680610de957607f821691505b602082108103610e0957634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115610e5957600081815260208120601f850160051c81016020861015610e365750805b601f850160051c820191505b81811015610e5557828155600101610e42565b5050505b505050565b67ffffffffffffffff831115610e7657610e76610dbf565b610e8a83610e848354610dd5565b83610e0f565b6000601f841160018114610ebe5760008515610ea65750838201355b600019600387901b1c1916600186901b178355610f18565b600083815260209020601f19861690835b82811015610eef5786850135825560209485019460019092019101610ecf565b5086821015610f0c5760001960f88860031b161c19848701351681555b505060018560011b0183555b5050505050565b604081528260408201528284606083013760006060848301015260006060601f19601f8601168301019050826020830152949350505050565b600060018201610f7857634e487b7160e01b600052601160045260246000fd5b5060010190565b6c505245534352495054494f4e5f60981b815260006bffffffffffffffffffffffff19808a60601b16600d840152808960601b166021840152508660358301528560558301528460758301528284609584013750600091016095019081529695505050505050565b815167ffffffffffffffff81111561100157611001610dbf565b6110158161100f8454610dd5565b84610e0f565b602080601f83116001811461104a57600084156110325750858301515b600019600386901b1c1916600185901b178555610e55565b600085815260208120601f198616915b828110156110795788860151825594840194600190910190840161105a565b50858210156110975787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea2646970667358221220a7b02b78f81a01047f783f6cd73cb675f8d6bfe7d631f948fd641051e4c3b14564736f6c63430008110033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
